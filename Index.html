<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>cada día viene con su afán</title>
  
  <style>
    body {
      margin: 0;
      display: flex;
      height: 100vh;
      background: #f7b8ff; /* Fondo blanco */
      font-family: monospace;
    }

    /* Barra lateral */
    #toolbar {
      width: 200px;
      background: #758cff;
      padding: 10px;
      overflow-y: auto;
      text-align: center; /* aquí */
      font-family: Arial;
      font-weight: 400;
      font-style: normal;     
      color:#ffffff;
      font-size: 15px;
      filter: drop-shadow(0 0 5px white) drop-shadow(0 0 15px white);
      filter: blur(0.7px);
      height: calc(100vh - 99px); /* altura total menos 100px para los botones */
        text-shadow: 
        0 0 5px white,   /* brillo cercano */
        0 0 10px white,  /* halo mediano */
        0 0 30px white;
    }

    .ascii-sample {
      font-size: 3px;   /* Más pequeño en la barra */
      line-height: 1; /* Mantiene proporciones */
      margin-bottom: 15px;
      cursor: pointer;
      white-space: pre;
      color: #fdff70;
      text-align: center; /* aquí */
      font-family: monospace;
}

    .ascii-sample.selected {
      position: relative; /* necesario para ubicar el halo */
      z-index: 1; /* texto encima */
}

    .ascii-sample.selected::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 150px;   /* tamaño del halo */
      height: 150px;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      filter: blur(12px);
      background: radial-gradient(
        circle,
        rgba(253,196,245,0.9) 0%,   /* centro brillante */
        rgba(253,196,245,0.5) 50%,  /* halo medio */
        rgba(253,196,245,0) 100%    /* desvanecido afuera */
      );
      z-index: -1;
}

    /* Área de siembra */
    #garden {
      flex: 1;
      position: relative;
      overflow: hidden;
      cursor: crosshair;
    }

    .ascii-art {
      position: absolute;
      white-space: pre;
      font-size: 4px; /* Tamaño en el jardín */
      line-height: 1;
      transform: translate(-50%, -50%); /* Centrado en clic */
      filter: blur(1px);
    }

    #sendEmailBtn {
      position: fixed;       /* 👈 lo fija en pantalla */
      bottom: 0px;          /* a 10px del borde inferior */
      left: 0px;            /* a 10px del borde izquierdo */
      z-index: 1000;         /* por encima de toolbar y jardín */
      width: 220px;
      height: 50px;
      padding: 10px 15px;
      border: none;
      background-color: #4CAF50;
      color: white;
      font-size: 15px;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      font-family: Arial, Helvetica, sans-serif;
      font-weight: 400;
      font-style: normal;  
      filter: blur(0.7px);
      text-shadow: 
        0 0 10px white,  /* halo mediano */
        0 0 30px white;
    }  
  

  #sendEmailBtn:hover {
    background-color: #45a049;
  }

  .film-grain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none; /* No bloquea clics */
  z-index: 9999;        /* Siempre arriba */
}

.film-grain video {
  width: 100%;
  height: 100%;
  object-fit: cover; /* El video llena la pantalla */
  opacity: 0.03;
  mix-blend-mode: overlay; 
  transform: scale(1.3); /* aumenta un 30% */
  filter: brightness(1.4);
}

#textToolBtn {
  position: fixed;       /* Fijo en pantalla */
  bottom: 48px;          /* 50px sobre el borde inferior (justo arriba del otro botón) */
  left: 0px;             /* mismo que el otro botón */
  z-index: 1000;         /* por encima de todo */
  width: 220px;
  height: 50px;
  padding: 10px 15px;
  border: none;
  background-color: #ffb6f1;
  color: white;
  font-size: 15px;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  font-family: Arial, Helvetica, sans-serif;
  font-weight: 400;
  font-style: normal;  
  filter: blur(0.7px);
  text-shadow: 0 0 10px white, 0 0 30px white;
}

#textToolBtn:hover {
  background-color: #ff95e0;
}


  </style>
</head>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap" rel="stylesheet">

<body>


<div class="film-grain">
    <video autoplay muted loop playsinline>
      <source src="GRANO.mp4" type="video/mp4">
    </video>
  </div>  

<button id="textToolBtn">escribir en el jardín</button>


  <!-- Barra lateral -->
<div id="toolbar">
  
  <label for="bgColor">color fondo:</label><br>
  <input type="color" id="bgColor" value="#f7b8ff">

  <br><br>

  <label for="flowerColor">color jardín:</label><br>
  <input type="color" id="flowerColor" value="#fdff70">

  <br><br>

  <p>elementos de jardinería:</p>

</div>



  <!-- Jardín -->
  <div id="garden"></div>

<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  
  <script>
    // Grupo de flores
    const flowers = [
`           
                                         @@@@@@@             
                                      @@@@@@@@@@@@@           
                                    @@@ @ @@@      @@@        
                                   @@@  @@@   @@@@@@@@@       
                                   @@ @@ @@ @@   @@@@  @@     
                                   @  @ @@@ @@@   @ @@@@@     
              @@@@@@@@@@@@@@@     @@  @@@ @ @@@@@@            
             @@@@@@@@@@      @@   @@      @ @@                
        @@@@@@@@@ @@@@@@@     @@  @@      @@@                 
   @@@@@@     @@@@@@@@@@@      @@ @@                          
  @@      @@@@    @   @@@@      @@@@                          
  @@@@@@@@@@@   @@@  @@@  @      @@@                          
          @@   @@ @  @@@   @     @@@           @              
          @  @@@  @  @@@@  @      @@  @@@@@@@@@@              
          @@@@    @ @@  @@@@      @@ @@     @@@               
                  @@@             @@@@@@@@@@                  
                        @@       @@@                          
                         @@@@@@@@@@@                          
                           @@@@@@@@@                          
                                  @@                          
                                  @@                          
                                  @                           
                                  @                           
                                  @                           
                                  @                           
                                  @                           
                                  @@        @@@@              
                       @@@@      @@@     @@@ @ @              
                     @@@  @@     @@@     @  @@ @              
                     @@     @    @@@@   @  @@  @              
                       @@@@  @@  @ @@@  @ @@  @               
                         @@@   @  @ @@@  @@ @                 
                          @@@ @ @@@ @@ @@ @@                  
                           @@@@  @@@@@@@@@@                   
                                @ @@@@@@@                     
                                  `,
        `  
                       @@@@                             
                     @@@  @@                            
                     @     @@    @@@                    
                    @@      @ @@@  @@@                  
                    @       @ @      @                  
           @@@@@@@@@        @@@      @                  
          @@       @@       @@      @@                  
          @         @      @@     @@@                   
          @          @@@@@@@@@  @@@@@                   
          @@          @@@@@@@@@@@   @@@@                
           @@@@@@     @@@@@@@@@        @@               
            @@@@@@@@@@@@@@@@@@@@        @               
           @@          @@@@@@@@@@@      @               
         @@           @@ @@@@   @@@@@@@@@               
         @@          @@    @@    @@@                    
           @@    @@@@@    @ @     @@@                   
             @@@@@ @@     @ @@    @ @@                  
                   @      @  @@@@@@  @@                 
                   @@    @@          @@                 
                    @@@@@@            @@     @@@        
                     @@               @@@ @@@@ @@       
                                       @@@@     @       
                                      @@@@     @        
                                      @@@@@@ @@         
                                        @@@             
                                        @@@             
                                @@@@    @@              
                                @@  @@@@@@              
                                  @@@ @ @@              
                                      @@@@              
                                        @@              
                                       @@@              
                                       @@@              
                                       @ @              
                                       @@@              
                                       @@@              
                                       @@@              
                                       @@@              
                                         `,
        ` 
                       @@@                    
                    @@@  @@                  
                  @@@ @   @@@@@              
                  @@  @@@@@   @@             
                   @@@@   @@@@@@             
                 @@@@@@   @@@@@              
                 @@   @@@@@@  @              
                  @@@@@@  @@@@@              
                      @@@@@                  
                      @                      
                      @     @@@              
                    @@@    @@ @@@@@@@        
                    @@@    @   @@   @        
                    @@     @ @@@@  @@        
                   @@@    @@@@  @@@@@@@      
            @@@    @ @   @@@@  @@ @   @      
        @@@@  @@@@@@@@@   @  @@   @@@@@      
       @@  @@ @@ @@@@     @@@@@   @          
       @@@ @@@  @@ @@       @@ @@@@          
      @@  @@@@@@@  @@                        
      @  @@@@ @ @@@@@                        
      @@@@@   @    @@                        
          @@@@@    @@           @            
                  @@@    @@@@ @@@@           
                  @@     @@  @@  @@@@@       
                  @@      @@ @@@@@   @@      
                  @@       @@@   @@ @@       
                  @@      @@@ @@@@@@@        
                  @@    @@@ @@ @@@@@@        
                  @@@@@@     @@@@  @@        
                  @@                         
                  @                          
                  @@                         
                  @@                         
                  @@                         
                  @@                         
                  `,

                  `
                      @@@@@@                
                  @@@@      @@ @@@@@@@      
                 @@           @@     @@@@   
                @@           @          @@  
                @            @           @  
              @@             @       @@ @@  
              @              @@ @@@@@@@@@   
             @@               @@@@@@@@      
             @                 @@@          
            @                    @          
            @                               
            @                               
           @                                
           @                                
           @                                
           @                                
           @                                
           @                                
           @                                
           @                                
           @                                
           @                                
           @    @@@@                        
   @@@     @   @@   @                       
   @ @@    @  @     @                       
  @    @@   @ @     @                       
  @@    @@  @@      @                       
   @@    @  @@     @                        
    @@    @ @@    @                         
      @@  @ @   @@@                         
       @@   @ @@@                           
         @@@@@@                             
                  `,
                  `
                     @@@@             
               @@@@@@  @ @@@@@       
             @@@@ @@@@@@@@   @       
            @@  @@        @@@@       
            @  @           @@@@@     
            @@@@            @  @     
           @@@ @            @@@@     
           @   @            @@@@@    
           @   @@           @   @    
            @@@@@@@       @@@@@@@    
              @   @@@@@@@@@  @@      
              @@@@@@@    @@   @      
                @@ @@@  @@ @@@@      
                  @@ @@@@            
                 @ @                 
                 @ @                 
                 @@@                 
                 @@                  
                @ @                  
       @@@@     @@                   
       @  @@@   @@                   
       @@@ @@@@@@                    
         @@@   @@                    
               @@                    
               @@                    
               @@         @          
               @         @@@         
               @@@@@ @ @@@@@         
               @   @@@@@@@           
              @@                     
              @@                     
              @                      
             @@                      
             @                       
             @                       
             @                       
                  `,
                  `        
                                       @@  @@           
                                      @ @ @@@           
                                     @@ @@@ @           
                                     @ @@   @           
                                     @ @    @           
                                     @@   @@            
                                     @@@@@@             
                                     @@                 
                   @                @@                  
                   @@              @@                   
                    @@@           @@                    
                    @@@@         @@                     
                     @ @@       @@                      
                     @@  @      @                       
                      @  @@    @@                       
                      @   @@   @        @               
           @@@@       @    @   @     @@@@               
           @@@@@@@    @    @@ @@  @@@@  @               
             @   @@@  @     @ @@ @@     @               
              @@  @@@ @      @@@@      @                
               @    @@@      @@@      @@                
               @@    @@      @@@      @                 
                @@    @@     @@      @@                 
                 @@    @     @@      @                  
                  @    @@   @@      @                   
                   @    @@  @@     @                    
                   @@    @ @@@    @                     
                    @@    @@ @   @@                     
                     @    @@@@  @@                      
                     @     @@  @@                       
                      @    @@  @                        
                      @@   @@  @                        
                       @   @@  @                        
                       @@  @@ @                         
                        @  @@ @                         
                        @@ @@@@                         
                         @ @ @                          
                         @ @ @                          
                         @@@ @        @@                
                @@   @@@@@@@@@     @@@@@                
                 @@@@@  @@@@@   @@@   @                 
                  @@      @@@  @@@@@ @@                 
                   @@@    @@@ @@@                       
                     @@@@@@@@@@@                        
                           @                            
                  `,
                  `        
                @@         
               @@@@        
              @   @        
             @@    @       
             @    @@       
             @   @@        
       @@@@  @  @@         
      @@  @@ @ @@          
      @    @@@@@           
      @@@@  @ @            
         @@@@@@            
             @@     @@@@@@ 
             @@   @@@    @ 
 @@@@       @@@@@@@      @ 
 @  @@      @@@@@@@@@@@@@@ 
 @   @@@    @@             
 @@@   @@@@@@@             
    @@@@   @@              
           @@      @@      
           @@     @@@@     
           @    @@   @     
           @@@@@   @@@     
           @@@@@@@@@       
     @@@   @@@             
    @@ @@@ @@@             
    @@    @@@@@            
     @@@@@@@ @@            
              @            
              @            
                  `,
                  `
        @@                @                 @@@           
         @@@@@@@@@@      @@@           @@@@@@@@           
          @@@@@@@@@      @ @ @       @@@@@@@@@@           
                  @@  @@@@ @ @@@    @@@@@@@@@@            
                    @@@   @@ @@@@@@@@                     
                    @@@@@@      @@@@@                     
                     @@           @@                      
                      @          @@                       
               @      @@      @@@@                        
               @@@     @    @@@                           
               @@@@@@@@@   @@@@                           
               @@@@@@@@@  @@@@ @@@@@@@                    
                  @@@@ @ @@  @@     @@                    
                       @@@     @@@@@                @     
                       @@                         @@ @    
                      @@     @@               @@@@@  @    
                      @@    @@@              @@@   @@     
                      @ @@@@@@               @ @@@@@      
                      @@@@@@@   @@           @            
                      @         @@@@@       @@            
               @@@@   @         @@@@@@      @             
               @  @   @         @@@@ @    @@@@@           
               @@ @@   @           @@@  @@@@@ @@@@@@@     
 @ @@@@@@@@     @ @@   @            @@@@@   @@      @     
 @@@    @@@@    @@@     @           @@@      @@@@@@@@     
  @@@@@@    @@@@@@@     @@         @@                     
                  @@@ @@@@       @@                       
                          @@    @@                        
                           @    @                         
                         @@@@   @                         
                  @@ @@@@@ @@@ @      @@                  
                  @@@@@@@@@  @ @     @@ @                 
                    @@@      @@@  @@@@  @@                
                              @@@@@   @@@@                
                              @@@@@@@@@@@                 
                              @@                          
                              @                           
                              @                           
                              @                           
                              @                           
                  `,
                  `             
                                   @@@@@             
                                  @@   @@@@          
                               @@@@@@@@@ @@          
                               @ @@@@ @@@@@@         
                               @@@@@@@@ @@ @         
                              @@ @@@@ @@@@@@         
                            @@@@@@@@@@@@@@ @@        
            @@@           @@@@@  @@ @@@@@@@@         
      @@@@@@@ @@@@      @@@@      @@@@@@@@           
     @@  @@   @  @     @@@                           
   @@@@@@@@@@@@@@@@@  @@@                            
   @ @   @@  @   @@@ @@@                             
   @@@@@ @  @@@  @@  @@                              
   @@@@@@@@@@ @@@@@  @@                              
    @@@@@@@@@@@ @@@  @@       @                      
     @@@@@@@@@@@@@  @@@      @@@                     
       @@@ @@@@@@   @@@    @@  @                     
          @@    @@@ @ @@@@@    @                     
                  @@@@@@@@ @@@@                      
                   @@ @  @@@                         
                    @ @                              
                    @@@                              
              @      @@                              
             @@@      @                              
             @@ @@@  @@                              
              @   @@@@@                              
              @@@@@  @@                              
                     @@                              
                     @@                              
                     @@                              
                  `,
                  `     
                @@        
               @@@@       
              @   @       
             @@    @      
             @    @@      
             @   @@       
       @@@@  @  @@        
      @@  @@ @ @@         
      @    @@@@@          
      @@@@  @ @           
         @@@@@@           
             @@     @@@@@@
             @@   @@@    @
 @@@@       @@@@@@@      @
 @  @@      @@@@@@@@@@@@@@
 @   @@@    @@            
 @@@   @@@@@@@            
    @@@@   @@             
           @@      @@     
           @@     @@@@    
           @    @@   @    
           @@@@@   @@@    
           @@@@@@@@@      
     @@@   @@@            
    @@ @@@ @@@            
    @@    @@@@@           
     @@@@@@@ @@           
              @           
              @           
              @           
                  `,
                  `                    
                            @@@@@@@@                       
                          @@@        @@                    
                         @@           @                    
                        @@       @@@  @@                   
                     @@@@          @@@@@@@@                
                  @@@@                    @@@              
                 @@                          @             
               @@@           @@ @@@@@        @             
            @@@@                             @@@           
          @@@                @@@               @@@         
         @         @@                           @@@        
         @          @@@                      @@@  @        
         @@                                       @        
          @@           @  @@    @@@  @@@   @      @        
         @@@            @@@       @@@   @@@@      @@       
         @    @@ @@                                 @@     
      @@ @      @@                                   @@    
       @@                                            @@    
         @                      @               @   @@     
       @@@        @@             @@@@@@@  @@@       @      
        @          @                   @@@         @       
       @@                                          @       
       @   @@@@@@@                                 @       
     @@@  @@             @@@@@@@                   @       
     @                                    @        @       
     @@@                      @  @@@      @@@    @@@       
       @@    @@                @@@          @@@@@          
      @@     @                                 @@          
      @@      @@@@                  @@@@ @      @          
       @@@@     @@@@    @                       @          
           @@       @@@@@                      @           
           @@                 @@@  @@@        @@           
            @@@                  @@          @@            
              @@@@                      @@@@@@             
                 @@@@@@@      @@@@@@@@@@@                  
                       @@@@@@@@                            
                  `

    ];

    // Grupo de malezas
    const weeds = [
`                                                        
                                   @                      
                 @                 @                      
                 @@@               @                      
                   @@             @@                      
                   @@@@           @@                      
                    @ @@          @@                      
                    @@  @        @ @                      
                     @@ @        @ @                      
                      @  @      @  @                      
               @       @@@        @@                      
               @@       @@      @ @                       
               @@       @@     @  @                       
               @@@       @     @  @                       
                @@       @     @ @                        
                @@@@     @@    @ @                        
                  @@     @@   @@ @                        
                  @@@    @@   @  @      @                 
                   @@    @@   @  @     @@                 
                   @@@   @@   @ @@    @ @                 
                   @ @@ @  @  @ @    @  @                 
      @            @  @ @  @ @  @   @  @                  
      @ @          @   @@  @ @  @  @@  @                  
          @        @@  @@  @ @  @ @@  @@                  
       @    @    @ @@   @  @@   @ @  @              @     
       @@ @@@    @@ @@@ @  @@  @@   @   @@@    @@@@@@     
       @@ @@ @@@ @ @@@@ @@ @  @@   @  @ @     @@ @        
        @@@@@ @@@@@@@@@@@@ @ @@@ @@   @@@   @@@@          
       @    @@@@ @ @@@@@@@@@@@@ @   @@         @          
        @        @  @@@@@@@@ @@@@@@@@@ @@   @@@           
         @ @        @@@@@@@@@@@@@@@@@@ @@@ @              
               @@      @@@@                               
`,
`                  
                            @@   @              
                   @@@  @@ @ @@@@         
                    @@@ @@ @@@  @   @  
                 @@@  @ @@@@@@ @@  @@  
                    @@@@@@  @ @   @    
                  @@@ @@@@@@@@@@@@@   @
                   @@@@@@@@@@@@@@@   @ 
                @@@@@@ @@@@@ @@    @   
                      @@@@ @@@ @@@@   
                     @@  @  @@@       
                    @    @@   @       
                   @      @@          
                  @@        @         
                  @                   
                  @                   
                 @                    
                 @                    
                @@                    
                @                     
               @@                     
               @                      
              @@                      
             @@                       
             @                        
             @                        
             @                        
            @                         
            @                         
            @                         
           @@                         
          @@                          
          @                           
          @                           
          @                           
   @@    @                            
   @@@@@@@  @@@@                      
    @@@@@  @@ @@                      
       @@  @@@                        
        @@@@                                                      
`,
`                               
                           @           
                           @           
                        @ @@           
                         @@            
                          @            
                          @    @       
                          @ @@         
                       @@ @  @@@       
                        @ @@@          
                      @ @@             
                      @ @@ @@          
                       @@ @@           
                        @              
                        @              
                       @               
                       @               
                       @               
                      @                
                      @                
                     @@                
                     @                 
                    @                  
                   @@                  
                   @                   
                   @                   
                  @                    
                  @                    
                  @                    
                  @                    
                  @                    
                  @                    
         @        @                    
         @@@     @@                    
         @ @    @@                     
         @  @   @@@                    
             @  @ @     @              
          @  @  @ @    @@              
           @  @@ @@ @  @@              
            @@    @@  @@               
             @@@@ @@   @               
               @@@@  @@@  @@           
                 @@@ @@@@@@            
                 @@@ @@@@              
                  @@  @                
                   @@                  
                   @                   
                                
`,
`
                                     
             @                                     
         @@  @                                     
           @@@@@                                   
            @@ @                                   
             @ @                                   
           @ @@@                                   
            @@                                     
             @@  @                                 
             @@  @                                 
              @@@@                                 
              @                                    
               @                                   
               @                                   
                @                                  
                @                                  
                 @                                 
                  @                                
                  @                                
                   @                               
                    @                              
                     @                             
                      @                            
                      @                            
                       @                           
                        @@                         
                         @                         
                           @                       
                            @                      
                            @@                     
                             @                     
                              @                    
                               @@      @@          
                                @     @@@@         
                       @@        @    @  @         
                        @@       @    @ @          
                         @ @      @   @            
                           @@     @   @            
                            @@@@  @   @@           
                             @  @  @               
                              @@@@@@ @@ @          
                                 @@@@@@@@          
                                  @@@@  @          
                          @@@@ @ @@@@@ @@          
                                 @@@ @@            
                                         
`,
`                                              
                 @@    @   @                          
                  @ @  @   @                          
                   @@      @                          
               @@   @ @@@@                            
            @   @@@@ @@@@@@@@@ @@                     
              @ @@  @@@@@@ @@@@@@@@                   
               @@@@@ @@@@@@@@@                        
             @@  @@ @@@@@@@ @ @@@                     
           @@@   @@@@@@@ @@@    @@                    
               @@@ @@@ @@@ @@                         
            @@ @  @@@ @@    @@@@ @                    
                     @@@  @   @  @                    
                 @@  @  @@    @@                      
                           @@  @                      
                     @      @   @                     
                                @@                    
                                 @@                   
                                  @                   
                                  @@                  
                                   @                  
                                   @                  
                                    @                 
                                    @                 
                                    @                 
                                    @@                
                                     @                
                                     @                
                                     @                
                                     @                
                                     @@               
                                      @               
                                      @               
                                      @               
                                      @               
                                      @               
                                      @               
                                  @@@ @   @@          
                                 @@  @@ @@@@          
                                   @@@@ @@@@          
                                      @@@@             
`,
`
                                                                                      
                                                                                      
                                                                                      
                                                                                      
                                                                                      
                                                                                      
                                      @                                               
                                      @                                               
                                     @@             @                                 
                        @@            @            @@                                 
                        @@            @                                               
                         @@         @ @           @                                   
                         @@@         @@          @@                                   
                         @@          @@          @                                    
                          @@        @ @                                               
                          @          @@        @@                                     
                          @          @@                                               
                          @@         @                                                
                          @@@       @@       @ @                                      
                          @@         @        @                                       
                                     @                     @                          
                           @@@      @@@     @@@           @                           
                            @        @ @     @           @                            
                            @@@        @     @         @@                             
                            @       @@@  @                                            
                             @@       @@ @  @          @                              
                         @    @@     @@  @  @        @@                               
                        @@@   @@    @       @      @@         @@@@@@@                 
                        @  @@ @@@   @@ @@     @    @    @  @ @      @@@@              
                        @      @@   @  @  @  @@  @@    @@         @@ @@@              
            @@@@@       @@   @  @@  @ @  @  @@ @@@ @@ @         @@  @                 
       @ @@@@@@@@ @  @@@@@@@@   @@@@@  @@  @@  @ @@  @@     @ @ @@@                   
              @ @@  @   @ @@@@ @ @ @@ @@  @ @ @@ @  @ @    @@@                        
                      @  @@@@@@@ @@ @@ @ @   @@@    @ @   @        @@@@@@@@           
                             @@@@@@@@@@@@@@ @@@   @@ @       @@@@@       @@           
                          @   @@@@@@@@@@@@@@@@@@@@@@@@@  @@@@@@@@@@   @ @@            
                          @@@@@ @@@@@ @@@@@@@@@@   @@@@@@@ @@@@@@@                    
                          @@    @@    @ @@@@@      @@                                 
                            @@ @@@  @@@@                                              
                              @@@@@@ @                                                
                                 @@  @                                                
                                  @@@                                                 

`,
`     





















                             @      
                            @@      
                        @@      
                 @         @ @      
                @@@       @ @      
                  @@@     @ @      
                   @ @@   @ @@@@   
                    @ @@ @  @  @   
                  @   @ @ @  @ @@   
                  @@  @ @@    @@    
                  @@@@  @   @@     
                   @@@@ @   @      
                     @@@    @       
                    @ @   @@       
                    @@@   @        
                      @@  @@        
                      @@  @         
                      @  @         
                        @@                              
`,
`













                        @@                    
                        @@@         @         
                        @ @       @@@         
       @@@@@            @ @       @ @         
          @@@@@         @  @     @@@@         
             @@@@       @  @    @ @@          
               @ @      @  @   @@ @           
                @ @@    @  @   @ @@           
             @   @ @    @  @@ @ @@            
             @@  @@ @@  @   @ @ @   @@@       
              @@   @ @@ @   @@@@@  @@@@       
              @@@  @  @ @   @@ @  @ @@        
               @@@@ @  @@   @@ @ @@ @         
                @  @@@ @@@ @@ @@@@ @@@        
        @@@@@    @ @@@  @@ @@ @@  @@@@        
         @@@ @@@ @@ @@  @@ @  @   @@@         
            @@@@@ @  @  @        @@@@         
               @@@@@ @  @        @@@@@@@@     
                 @@@ @           @@@@ @@@@    
                  @@           @@@@           
                   @          @@             
                    @         @   
                     @@     @@ 
                        @@@

                     `,
`





                                          @@ @@         
                                        @@@   @@        
                      @@@@              @      @        
                     @@   @@            @      @@@@@    
                     @     @            @@  @@@@    @   
                 @@@@@@   @@            @@@@@ @@   @@   
                 @   @@@@@@           @@   @  @@@@@     
                 @@@ @@   @@        @@     @@ @         
                   @@@@    @        @       @@@         
        @@@@          @@@@@@      @@                    
      @@@  @@   @@@    @@         @                     
      @@    @@@@@ @@@   @        @@                     
       @@@@@@@@     @   @        @                      
         @   @@@@@@@@   @       @@                      
         @    @  @       @      @         @@@@@         
          @@@@@   @@     @      @     @@@@@   @@        
                    @@    @    @@     @   @@@@@         
                     @@   @   @@      @@@@@  @@         
                      @@  @@  @        @@@@@@@@         
                       @@  @  @      @@                 
                        @@ @@ @     @@                  
                         @  @ @    @@                   
                          @ @ @   @                     
                          @@@ @  @                      
                           @@@@ @@                      
                           @@@@ @                       
                            @@@@@                       
                            @@@@                        
                            @@ @                        
                            @@@@                        
                             @@@                        

`,
`
                                                @                                                
                                                @@                                               
                                              @ @                                                
                                              @ @@                                               
                                              @ @@     @                                         
                                               @@      @                                         
                                                @ @    @                                         
                                               @@      @                                         
                                               @@@@    @                                         
                                               @@@     @                                         
                                                @@    @@                                         
                                                @ @    @                                         
                                                @ @   @@                                         
                                        @@@     @ @  @                                           
                                         @@@@    @@@                                             
                                           @@@@  @ @ @ @                                         
                                            @ @  @@@ @ @@@                                       
                                             @@  @@@ @ @@                                        
                                              @@  @@@@@@                                         
                                               @@ @@@@@                                          
                                                @ @@@                                            
                                                @@@@@@                                           
                 @@@@@              @@@@@       @@@@@ @@                                         
                  @@@ @@@@@@@@@@@@@@@@@@@@@@@   @@@@@@@            @@                            
                    @@        @@@@@        @@@@@@@@@@@@@@@@@@@@@@@@ @                            
                     @@@   @@@@@@@@@@@@@@@@@@  @@@@@@@@@       @@@  @@@@@@@@          @@         
      @@@@          @@@@@@@@@@@            @@@@@@@@@@@ @@@@@@@@@    @     @@@@@@@@@@@@@@         
       @@@@@@@@@@@@@@@@@@@    @@@@           @@@  @@@@@           @@@             @@@@@          
         @@@@@@@@      @@@@@@@@@@@ @  @        @@ @@@@   @@@    @@@              @@@@@           
            @@@@@@@@@@@ @@@ @@@@@@@@@@@@@  @@   @ @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             
                 @@@@@@@@@@@@@@@@@@@@  @@@@@@@  @@@@@@@@@     @@@@@@@@@@@@@@   @@                
                                        @@@@@@@@@@@@ @@@@@@@@            @@@@@@@@                
                                    @@@@@  @@  @@  @@  @@@   @@@ @@@@     @@@@@                  
                                 @@@    @@@   @@@   @@   @@@@        @@@@@                       
                            @@@@@@@@@@@@@  @@@@      @@@@@@@@@@                                  
                      @@@@@@@@@@@@@@@@@@@@@@                                                     
`,
`
           xxxx                   
         xx   xx                  
         x     xx                 
                xx                
                  xx          xx  
                   xxx      xxx   
                     x    xxx     
                     xx   x       
                      x  x        
                      x xx        
       @@            xxxx         
        @@@@         x x          
            @@@      xxx          
               @@    xx           
                @@   x            
                 @  xx            
                 @ xx     xxxx    
                 @ x    xxx  xx   
                @@xxxx x          
                @ xxx             
                @x                
                @@                
                x     @@          
                x  @@@@           
                x @@              
                x@                
         @     @@                 
          @@   xx                 
            @@ xx                 
             @@xx                 
              @@x                 
               @x                 
               xx                 
               xx                 
              @x   @              
          @@   @  @@              
           @@@@@@@                
             @@x @                

`,
`                                                     
                   xx                                
                   @xx           x                   
                   @ x          x@                   
                   @ x          @@                   
                   @ x         @@x          x        
         x         @  x       @@ x         x@        
         xx        @  x       @xx          x@        
         xxx       @x x      @@ x         x@@        
           xx       @ x      @  x        xx@         
         x  x       x@x     @@  x        x@@         
             x       @x     @   x      x @@          
          xx x       @x     @  x        x@           
           x xx      @x     @  x      xx@@           
            x x      @x     @@ x     x x@            
            xxx      @x     x@ x    x x@@            
             xx      @x     x@ x  x x @@             
              x      @x     x@x   x  @@              
              xxx    @x     x@x  x  @@               
               xx    @x     x@x x x@@                
               x     @x    x@@   @@@                 
                xx   @x    x@x x@@                   
                 x   @ x   x@xx@@x                   
                     @ x   x@x@@x                    
                  x  @  x  x@x@ x                    
                  xx @  x  x@@@ x                    
                   xx@x x  x@@ x                     
                     @x x  x@@ x                     
                    xx@ x  x@@ x                     
                    xx@xx  x@  x                     
                     x@@   x@                        
                     xx@x  x@@ x                     
                      xx@@x @@ x                     
                 xx    xx@x@@@x                      
                 xxxx  xx @@x@       x               
                  x xxx xx@@ @      xx               
                   x  xxxxxx x    xxx                
                     xxxxxxx x  xxx                  
                       xxxxxxxxxxx                   
                       xxxxxxx                       
                        xxxxx xx                     
                           x xx                      
`
    ];

    const butterflies = [
  `
       @@@@@  @      
     @   @@ @@@    
   @@@@   @@@@@@@@ 
 @@@  @@@@@@@    @@
@        @@@@@@@@@@
@       @@@    @@  
@@   @@@@@      @@ 
 @@@@@@@@@      @@ 
      @@@@      @  
         @@@@  @@  
          @@@@@@
  `,
  `
        @ @@@@@@@     
 @@@@@@@@    @@     
@@     @@@@@@@@@@@@ 
@@@@@@@@@@@       @@
  @@@@@    @@     @@
     @     @@@@@@@@ 
     @     @  @     
      @@   @        
       @@@@ 
  `,
  `
    @ @@@@@@      
 @@@ @   @      
 @@@@@@  @      
@@   @@@@@@@@@@@
@@     @@@     @
 @@@@@  @@@    @
     @    @@@ @@
     @@    @@@@ 
      @@@  @@   
        @@@@
  `,
  `
   @@@        
@@  @       
 @@@@       
  @@@@@@    
 @@@@@@     
  @@@@@@@@  
     @@  @@@
      @@@  @
        @@@ 
  `,
  `
         @@@@
       @  @
    @@@@@@@
    @@@@@  
 @@@@@@@@  
@    @@    
 @@@@      
  `
];

    let clickCounter = 0;

    let selectedFlower = null;
    let drawingMode = "flower"; // puede ser "flower" o "text"


    // ==== LÓGICA DE MALEZAS (mazo barajado) ====
let weedPool = [];
function refillWeeds() {
  weedPool = [...weeds];
  for (let i = weedPool.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [weedPool[i], weedPool[j]] = [weedPool[j], weedPool[i]];
  }
}
function getNextWeed() {
  if (weedPool.length === 0) refillWeeds();
  return weedPool.pop();
}


    // Mostrar flores en la barra lateral
    const toolbar = document.getElementById("toolbar");
    flowers.forEach((flower) => {
      const div = document.createElement("div");
      div.className = "ascii-sample";
      div.textContent = flower;
div.addEventListener("click", () => {
  selectedFlower = flower; 
  // limpiar selección previa
  document.querySelectorAll(".ascii-sample").forEach(el => el.classList.remove("selected"));
  div.classList.add("selected");
  drawingMode = "flower"; // ⚡ modo flor activado al seleccionar una flor
});
      toolbar.appendChild(div);
    });

    const textToolBtn = document.getElementById("textToolBtn");
textToolBtn.addEventListener("click", () => {
  drawingMode = "text";
  // limpiar selección de flores
  document.querySelectorAll(".ascii-sample").forEach(el => el.classList.remove("selected"));
});


    document.getElementById("flowerColor").addEventListener("input", (e) => {
  const color = e.target.value;
  document.querySelectorAll(".ascii-sample").forEach(el => {
    el.style.color = color;
  });
});

    const garden = document.getElementById("garden");
    const bgPicker = document.getElementById("bgColor");
    const placedElements = []; // array que guarda todas las flores y textos


    garden.style.background = bgPicker.value;


// cuando el usuario cambia el color, actualizar el fondo del jardín
bgPicker.addEventListener("input", (e) => {
  garden.style.background = e.target.value;
});


    const colorPicker = document.getElementById("flowerColor");
let selectedColor = colorPicker.value;

colorPicker.addEventListener("input", (e) => {
  selectedColor = e.target.value;
});



garden.addEventListener("click", (e) => {
  clickCounter++;

  const gardenRect = garden.getBoundingClientRect();
  const xClick = e.clientX - gardenRect.left;
  const yClick = e.clientY - gardenRect.top;

  const maxWidth = gardenRect.width - 50;
  const maxHeight = gardenRect.height - 50;

  // --- Código normal de flores + maleza o texto ---
  if (drawingMode === "flower") {
    if (!selectedFlower) return;

    // Contenedor grupo flor + maleza
    const flowerGroup = document.createElement("div");
    flowerGroup.style.position = "absolute";
    flowerGroup.style.left = xClick + "px";
    flowerGroup.style.top = yClick + "px";

    // Flor
    const flowerEl = document.createElement("div");
    flowerEl.className = "ascii-art";
    flowerEl.textContent = selectedFlower;
    flowerEl.style.color = selectedColor;
    flowerGroup.appendChild(flowerEl);

    // Maleza
    const weed = getNextWeed();
    const weedEl = document.createElement("div");
    const weedColors = ["#82F2A9", "#FFF0A3", "#C7EEFF", "#5C5C5C", "#FFFFFF"];
    const randomColor = weedColors[Math.floor(Math.random() * weedColors.length)];
    weedEl.className = "ascii-art";
    weedEl.textContent = weed;
    weedEl.style.color = randomColor;
    flowerGroup.appendChild(weedEl);

    garden.appendChild(flowerGroup);
    placedElements.push(flowerGroup);

  } else if (drawingMode === "text") {
    const textEl = document.createElement("div");
    textEl.className = "ascii-art";
    textEl.contentEditable = "true";
    textEl.style.left = xClick + "px";
    textEl.style.top = yClick + "px";
    textEl.style.color = selectedColor;
    textEl.style.transform = "translateY(-50%)";
    textEl.style.fontSize = "15px";
    textEl.style.whiteSpace = "pre";
    textEl.style.minWidth = "50px";
    textEl.style.padding = "2px";
    textEl.style.fontFamily = "Arial, sans-serif";
    textEl.style.filter = "blur(1px)";
    garden.appendChild(textEl);
    placedElements.push(textEl);

    textEl.focus();
  }

  // --- Código de mariposa extra ---
  if (clickCounter >= 2 && Math.random() < 0.66) { // cada 2-3 clicks aprox
    clickCounter = 0; // reset
    const x = Math.random() * maxWidth;
    const y = Math.random() * maxHeight;
    const butterfly = butterflies[Math.floor(Math.random() * butterflies.length)];

    const butterflyEl = document.createElement("div");
    butterflyEl.className = "ascii-art";
    butterflyEl.textContent = butterfly;
    butterflyEl.style.color = selectedColor;
    butterflyEl.style.left = x + "px";
    butterflyEl.style.top = y + "px";
    butterflyEl.style.fontSize = "4px";
    garden.appendChild(butterflyEl);
    placedElements.push(butterflyEl);
  }
});


  </script>

<!-- Importa EmailJS -->
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function(){
    emailjs.init("yvcMM_9At_ZB9r0p6"); // ✅ Tu public key de EmailJS
  })();
</script>


<button id="sendEmailBtn">❀ enviar jardín ❀</button>

<script>
  const imgbbAPIKey = "eb7f4064e6eff780ac5b7d450ccc28bc"; // ✅ tu API Key de ImgBB

  document.getElementById("sendEmailBtn").addEventListener("click", async () => {
    const email = prompt("escribe el correo al que quieres enviar tu jardín:");
    if (!email) return;

    // 1. Tomar captura del jardín
    const canvas = await html2canvas(document.getElementById("garden"));
    const dataUrl = canvas.toDataURL("image/png");

    // Quitar encabezado y dejar solo el base64
    const base64 = dataUrl.replace(/^data:image\/png;base64,/, "");

    // 2. Subir a ImgBB
    const formData = new FormData();
    formData.append("key", imgbbAPIKey);
    formData.append("image", base64);

    let imageUrl = "";
    try {
      const res = await fetch("https://api.imgbb.com/1/upload", {
        method: "POST",
        body: formData
      });
      const data = await res.json();
      if (data.success) {
        imageUrl = data.data.url; // ✅ enlace público de la imagen
      } else {
        alert("error subiendo la imagen a ImgBB");
        return;
      }
    } catch (err) {
      console.error(err);
      alert("hubo un problema al subir la imagen :( verifica que el correo esté bien escrito y vuelva a intentarlo");
      return;
    }

    // 3. Enviar correo con EmailJS incluyendo el link o imagen
    const params = {
      to_email: email,
      message: "en fin... yo también estoy sembrando un jardín, no sé si te había dicho. lo estoy sembrando así como los siembras tú, con un poquito de esperanza y otro poquito de decepción <br> ❀❀❀",
      image_url: imageUrl
    };

    emailjs.send("service_c21f21f", "template_55v582i", params)
      .then(() => {
        alert("❀ el jardín fue enviado a " + email + " ❀");
      })
      .catch((err) => {
        console.error("Error:", err);
        alert("hubo un problema al subir la imagen :( verifica que el correo esté bien escrito y vuelva a intentarlo");
      });
  });

document.addEventListener("keydown", (e) => {
  const isUndo = (e.ctrlKey || e.metaKey) && e.key === "z";
  if (isUndo) {
    e.preventDefault(); // evita el undo del navegador
    const last = placedElements.pop();
    if (last) {
      last.remove();
    }
  }
});


  // Crear el objeto de audio
  const audio = new Audio("JARDÍN.MP3");
  audio.loop = true;       // que se repita infinitamente
  audio.volume = 0.3;      // volumen inicial bajo (0 a 1)

  // Variable para asegurar que solo se reproduzca una vez
  let audioPlayed = false;

  // Esperar al primer clic del usuario
  document.addEventListener("click", () => {
    if (!audioPlayed) {
      audio.play().catch(() => {
        console.log("Autoplay bloqueado, requiere interacción del usuario");
      });
      audioPlayed = true;
    }
  }, { once: true }); // se ejecuta solo la primera vez



</script>




</body>
</html>
